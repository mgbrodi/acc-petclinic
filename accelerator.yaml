accelerator:
  displayName: Spring Boot JPA
  description: Spring Boot application that accesses an SQL database using JPA.
  iconUrl: https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSouyfUardSmV3F_ULpf7TcARQ1B5J1RxDMnUAAhmaGUJn7x52_rRcYQkjDI5yah44j9B0&usqp=CAU
  tags:
  - Java
  - Spring
  - JPA
  - SQL
  options:
  - name: deploymentType
    inputType: select
    choices:
    - value: none
      text: Running Local
    - value: k8s-simple
      text: Kubernetes deployment and service
    - value: cloud-foundry
      text: Cloud Foundry
    defaultValue: none
    required: true
engine:
  merge:
  - include: [ "**/*" ]
    exclude: [ "kubernetes/*.yaml", "skaffold.yaml", "manifest.yaml" ]
    chain:
    - type: ReplaceText
      substitutions:
      - text: spring-sql-jpa
        with: "#artifactId"
  - condition: "#deploymentType == 'k8s-simple'"
    include: [ "kubernetes/*.yaml", "skaffold.yaml" ]
    chain:
    - type: ReplaceText
      substitutions:
      - text: spring-sql-jpa
        with: "#artifactId"
  - condition: "#deploymentType == 'cloud-foundry'"
    include: [ "manifest.yaml" ]
    chain:
    - type: ReplaceText
      substitutions:
      - text: spring-sql-jpa
        with: "#artifactId"
